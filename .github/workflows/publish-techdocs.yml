name: Publish TechDocs

on:
  push:
    branches: [ main ]
    paths:
      - 'docs/**'
      - 'mkdocs.yml'
  workflow_dispatch:

jobs:
  publish:
    uses: geolonia/.github-private/.github/workflows/backstage-techdocs.yml@v1
    with:
      environment: production
      aws_region: ap-northeast-1
      techdocs_entity: geolonia/component/dot-github
    secrets:
      AWS_ACCOUNT_ID: ${{ secrets.AWS_ACCOUNT_ID }}
